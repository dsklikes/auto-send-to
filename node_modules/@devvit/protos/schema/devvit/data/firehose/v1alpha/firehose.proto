syntax = "proto3";

package devvit.data.firehose.v1alpha;

import "devvit/data/triggers/v1alpha/triggers.proto";
import "google/protobuf/timestamp.proto";

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/data/firehose/v1alpha";

service Firehose {
  rpc Stream(FirehoseRequest) returns (stream FirehoseReply) {}
}

message FirehoseRequest {
  string stream_id = 1;
  int32 max = 2;
  google.protobuf.Timestamp ts = 3;
  string last = 4;
  repeated string events = 5;
  bool keep_alive = 6;
}

message FirehoseReply {
  devvit.data.triggers.v1alpha.TriggerEvent event = 1;
}
