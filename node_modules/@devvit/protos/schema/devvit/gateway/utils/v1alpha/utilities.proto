syntax = "proto3";

package devvit.gateway.utils.v1alpha;

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/devvit-gateway-service/generated/protos/devvit/utilities";

message AccessKeyPurgeRequest {
  string user_id = 1; // the t2_ user id
  bool include_refresh = 2; // also purge the refresh key
}

message InstallationsPurgeRequest {
  string subreddit = 1; // t5 subreddit id
}

message PurgeResult {
  int64 count = 1; // Number of items purged
}

service CacheUtils {
  rpc PurgeAccessKey(AccessKeyPurgeRequest) returns (PurgeResult);
  rpc PurgeInstallations(InstallationsPurgeRequest) returns (PurgeResult);
}
